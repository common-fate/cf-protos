syntax = "proto3";

package team.v1alpha1;

import "gconfig/v1alpha1/gconfig.proto";

// TeamService is used to manage Granted teams.
service TeamService {
  rpc ListMembers(ListMembersRequest) returns (ListMembersResponse);
  rpc UpdateConfig(UpdateConfigRequest) returns (UpdateConfigResponse);
  // GetConfig returns the latest approved config
  rpc GetConfig(GetConfigRequest) returns (GetConfigResponse);
}

message ListMembersRequest {}

message ListMembersResponse {
	repeated Member members = 1;
}

message Member {
	string email_address = 1;
	bool is_admin = 2;
}

message UpdateConfigRequest {
  gconfig.v1alpha1.Config config = 1;
};

message UpdateConfigResponse {
  bytes sha256_hash = 1;
}

message GetConfigRequest {}

message GetConfigResponse {
  gconfig.v1alpha1.Config config = 1;
}